#ifndef __SERVER_H__
#define __SERVER_H__

//////////////////////////////////////////////////////////////////////////
// Server types
//////////////////////////////////////////////////////////////////////////

typedef std::list<CSocket*> SOCKET_DB;

//////////////////////////////////////////////////////////////////////////
// CServer class
//////////////////////////////////////////////////////////////////////////

class CServer
{
public:
	// default constructor & destructor
	CServer();
	~CServer();

public:
	// initializes the server
	bool Initialize();

	// runs the server
	bool Run();

	// shuts the server down
	void Shutdown();

private:
	// running state
	bool m_bRunning;

	// listener socket
	CSocket *m_Listener;

	// sockets database
	SOCKET_DB m_Sockets;
};

//////////////////////////////////////////////////////////////////////////
// Exports
//////////////////////////////////////////////////////////////////////////

extern SOCKET_DB *g_Sockets;

//////////////////////////////////////////////////////////////////////////
// End
//////////////////////////////////////////////////////////////////////////

#endif
